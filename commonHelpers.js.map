{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = '42558168-62173c93aab0d4cbf34bb4fab';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const LINK = `${BASE_URL}?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(LINK)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    });\n}","export function renderImages(images, galleryElement) {\n  const galleryHTML = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n\n          <ul class=\"gallery-info-list\">\n            <li class=\"gallery-info-list-item\"><h4>Likes</h4><p>${likes}</p></li>\n            <li class=\"gallery-info-list-item\"><h4>Views</h4><p>${views}</p></li>\n            <li class=\"gallery-info-list-item\"><h4>Comments</h4><p>${comments}</p></li>\n            <li class=\"gallery-info-list-item\"><h4>Downloads</h4><p>${downloads}</p></li>\n          </ul>\n        </li>`\n    )\n    .join('');\n  galleryElement.innerHTML = galleryHTML;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport { fetchImages } from '/js/pixabay-api.js';\nimport { renderImages } from '/js/render-functions.js';\n\nconst FORM = document.querySelector('.form');\nconst INPUT = document.querySelector('.search-input');\nconst GALLERY = document.querySelector('.gallery');\n\nconst SIMPLY_LIGHTBOX = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionsPosition: 'bottom',\n});\n\nFORM.addEventListener('submit', searchPhotos);\n\nfunction searchPhotos(event) {\n  event.preventDefault();\n\n  const query = INPUT.value;\n\n  fetchImages(query)\n    .then(data => {\n      const images = data.hits;\n\n      if (images.length === 0) {\n        throw new Error();\n      }\n\n      renderImages(images, GALLERY);\n\n      SIMPLY_LIGHTBOX.refresh();\n    })\n    .catch(() => {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        timeout: 5000,\n        progressBar: true,\n        close: true,\n        messageColor: '#000',\n        backgroundColor: '#FF544B',\n      });\n    })\n    .finally(() => {\n      FORM.reset();\n    });\n}\n"],"names":["KEY","BASE_URL","fetchImages","query","LINK","response","renderImages","images","galleryElement","galleryHTML","webformatURL","largeImageURL","tags","likes","views","comments","downloads","FORM","INPUT","GALLERY","SIMPLY_LIGHTBOX","SimpleLightbox","searchPhotos","event","data","iziToast"],"mappings":"6vBAAA,MAAMA,EAAM,qCACNC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAO,GAAGH,CAAQ,QAAQD,CAAG,MAAMG,CAAK,2DAE9C,OAAO,MAAMC,CAAI,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,CACL,CCbO,SAASC,EAAaC,EAAQC,EAAgB,CACnD,MAAMC,EAAcF,EACjB,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,0CACkCL,CAAa;AAAA,8CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,kEAINC,CAAK;AAAA,kEACLC,CAAK;AAAA,qEACFC,CAAQ;AAAA,sEACPC,CAAS;AAAA;AAAA,cAG1E,EACA,KAAK,EAAE,EACVR,EAAe,UAAYC,CAC7B,CCrBA,MAAMQ,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAkB,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,IACd,iBAAkB,QACpB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMpB,EAAQe,EAAM,MAEpBhB,EAAYC,CAAK,EACd,KAAKqB,GAAQ,CACZ,MAAMjB,EAASiB,EAAK,KAEpB,GAAIjB,EAAO,SAAW,EACpB,MAAM,IAAI,MAGZD,EAAaC,EAAQY,CAAO,EAE5BC,EAAgB,QAAO,CAC7B,CAAK,EACA,MAAM,IAAM,CACXK,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,QAAS,IACT,YAAa,GACb,MAAO,GACP,aAAc,OACd,gBAAiB,SACzB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbR,EAAK,MAAK,CAChB,CAAK,CACL"}